{"version":3,"file":"PowerSchema.js","sourceRoot":"","sources":["../../src/schemas/PowerSchema.ts"],"names":[],"mappings":"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","sourcesContent":["import { Schema, type } from '@colyseus/schema';\nimport { Position } from './index.js';\n\n/**\n * Represents a power component mastery level\n */\nexport class PowerComponentMastery extends Schema {\n  @type(\"number\") definition: number = 0;\n  @type(\"number\") end: number = 0;\n  @type(\"number\") parts: number = 0;\n  @type(\"number\") matter: number = 0;\n  @type(\"number\") instrument: number = 0;\n}\n\n/**\n * Represents a power that can be collected\n */\nexport class Power extends Schema {\n  @type(\"string\") id: string;\n  @type(\"string\") name: string;\n  @type(\"string\") description: string = \"\";\n  @type(\"string\") type: string;\n  @type(\"string\") rarity: string;\n  @type(\"number\") value: number = 1;\n  @type(Position) position = new Position(0, 0);\n  @type(\"number\") spawnTime: number = Date.now();\n  @type(\"number\") despawnTime: number = Date.now() + 3600000; // 1 hour default\n  @type(\"boolean\") isActive: boolean = true;\n  @type(\"string\") capturedBy: string = \"\";\n\n  constructor(id: string, name: string, type: string, rarity: string) {\n    super();\n    this.id = id;\n    this.name = name;\n    this.type = type;\n    this.rarity = rarity;\n    \n    // Set value based on rarity\n    switch(rarity.toLowerCase()) {\n      case 'common':\n        this.value = 1;\n        break;\n      case 'uncommon':\n        this.value = 2;\n        break;\n      case 'rare':\n        this.value = 5;\n        break;\n      case 'epic':\n        this.value = 10;\n        break;\n      case 'legendary':\n        this.value = 20;\n        break;\n    }\n  }\n\n  capture(playerId: string) {\n    this.isActive = false;\n    this.capturedBy = playerId;\n  }\n}\n\n/**\n * Represents a power that has been collected by a user\n */\nexport class PowerCollection extends Schema {\n  @type(\"string\") powerId: string;\n  @type(\"string\") userId: string;\n  @type(\"string\") acquiredAt: string;\n  @type(\"number\") overall: number = 0;\n  @type(PowerComponentMastery) components = new PowerComponentMastery();\n  @type(\"number\") uses: number = 0;\n  @type(\"string\") lastUsed: string = \"\";\n  @type(\"string\") notes: string = \"\";\n  @type(\"boolean\") favorite: boolean = false;\n\n  constructor(powerId: string, userId: string) {\n    super();\n    this.powerId = powerId;\n    this.userId = userId;\n    this.acquiredAt = new Date().toISOString();\n  }\n} "]}